<!DOCTYPE html>
<html>

<head>
  <title>VuePage</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta charset="utf-8" />
  <script src="/core/vue-page.js"></script>
</head>

<body>
  <div id="app"></div>
  <script>
    function createRoutes(view) {
      Route('/', view('/index'));
      Route('/user', view('/user'));

      Route('/manage', view('/manage'), '/manage/index').group(function () {
        Route('index').component({
          render(h) {
            return h('span', '后台首页');
          }
        })
        Route('users').component({
          render(h) {
            return h('span', '后台用户');
          }
        })
      })
      return Route.create();
    }
    createApp(function (createVue, createStore, createRouter, view) {
      const app = createComponent(view('/app'));
      createVue({
        el: '#app',
        router: createRouter({
          mode: 'history',
          routes: createRoutes(view)
        }),
        render(h) {
          return h(app);
        }
      });
    }, {viewRoot: '/views', viewSuffix: '.html'})
  </script>
</body>

</html>
